<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<!-- ****************************************************** -->
<!--            Standard wxWidgets header                   -->

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
    <title>wxWidgets: Threads</title>
    <meta name="author" content="wxWidgets team"/>
    <meta name="created" content="Fri Sep 4 06:57:22 2009"/>
    <meta name="keywords" content="wxWidgets"/>
    <link href="wxwidgets.css" rel="stylesheet" type="text/css"/>
    <link href="tabs.css" rel="stylesheet" type="text/css"/>
</head>
<body>


<!--          End of wxWidgets standard header           -->
<!-- *************************************************** -->

<!-- Generated by Doxygen 1.5.8 -->
<script type="text/javascript">
<!--
function changeDisplayState (e){
  var num=this.id.replace(/[^[0-9]/g,'');
  var button=this.firstChild;
  var sectionDiv=document.getElementById('dynsection'+num);
  if (sectionDiv.style.display=='none'||sectionDiv.style.display==''){
    sectionDiv.style.display='block';
    button.src='open.gif';
  }else{
    sectionDiv.style.display='none';
    button.src='closed.gif';
  }
}
function initDynSections(){
  var divs=document.getElementsByTagName('div');
  var sectionCounter=1;
  for(var i=0;i<divs.length-1;i++){
    if(divs[i].className=='dynheader'&&divs[i+1].className=='dynsection'){
      var header=divs[i];
      var section=divs[i+1];
      var button=header.firstChild;
      if (button!='IMG'){
        divs[i].insertBefore(document.createTextNode(' '),divs[i].firstChild);
        button=document.createElement('img');
        divs[i].insertBefore(button,divs[i].firstChild);
      }
      header.style.cursor='pointer';
      header.onclick=changeDisplayState;
      header.id='dynheader'+sectionCounter;
      button.src='closed.gif';
      section.id='dynsection'+sectionCounter;
      section.style.display='none';
      section.style.marginLeft='14px';
      sectionCounter++;
    }
  }
}
window.onload = initDynSections;
-->
</script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Categories</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    <li>
      <form action="search.php" method="get">
        <table cellspacing="0" cellpadding="0" border="0">
          <tr>
            <td><label>&nbsp;<u>S</u>earch&nbsp;for&nbsp;</label></td>
            <td><input type="text" name="query" value="" size="20" accesskey="s"/></td>
          </tr>
        </table>
      </form>
    </li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>Threads<br>
<small>
[<a class="el" href="group__group__funcmacro.html">Functions and Macros by Category</a>]</small>
</h1><hr><a name="_details"></a><h2>Detailed Description</h2>
The functions and macros here mainly exist to make it possible to write code which may be compiled in multi thread build (wxUSE_THREADS = 1) as well as in single thread configuration (wxUSE_THREADS = 0). 
<p>
For example, a static variable must be protected against simultaneous access by multiple threads in the former configuration but in the latter the extra overhead of using the critical section is not needed. To solve this problem, the <a class="el" href="group__group__funcmacro__thread.html#g3b0ab821a03aeecc1a7ddfcecb581355" title="This macro combines wxCRIT_SECT_DECLARE() and wxCRIT_SECT_LOCKER(): it creates a...">wxCRITICAL_SECTION()</a> macro may be used to create and use the critical section only when needed.<p>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="classwx_thread.html" title="A thread is basically a path of execution through a program.">wxThread</a>, <a class="el" href="classwx_mutex.html" title="A mutex object is a synchronization object whose state is set to signaled when it...">wxMutex</a>, <a class="el" href="overview_thread.html">Multithreading Overview</a></dd></dl>
Related class group: <a class="el" href="group__group__class__threading.html">Threading</a> <table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__funcmacro__thread.html#g79ee915c6353e705958843a57a5148e2">wxCRIT_SECT_DECLARE</a>(cs)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This macro declares a (static) critical section object named <em>cs</em> if <code>wxUSE_THREADS</code> is 1 and does nothing if it is 0.  <a href="#g79ee915c6353e705958843a57a5148e2"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__funcmacro__thread.html#ga9f05a4361ea095939f90512ee52a831">wxCRIT_SECT_DECLARE_MEMBER</a>(cs)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This macro declares a critical section object named <em>cs</em> if <code>wxUSE_THREADS</code> is 1 and does nothing if it is 0.  <a href="#ga9f05a4361ea095939f90512ee52a831"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__funcmacro__thread.html#ge589848294c2cf63ad6895c4344755fe">wxCRIT_SECT_LOCKER</a>(name, cs)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This macro creates a <a class="el" href="classwx_critical_section_locker.html" title="This is a small helper class to be used with wxCriticalSection objects.">wxCriticalSectionLocker</a> named <em>name</em> and associated with the critical section <em>cs</em> if <code>wxUSE_THREADS</code> is 1 and does nothing if it is 0.  <a href="#ge589848294c2cf63ad6895c4344755fe"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__funcmacro__thread.html#g3b0ab821a03aeecc1a7ddfcecb581355">wxCRITICAL_SECTION</a>(name)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This macro combines <a class="el" href="group__group__funcmacro__thread.html#g79ee915c6353e705958843a57a5148e2" title="This macro declares a (static) critical section object named cs if wxUSE_THREADS...">wxCRIT_SECT_DECLARE()</a> and <a class="el" href="group__group__funcmacro__thread.html#ge589848294c2cf63ad6895c4344755fe" title="This macro creates a wxCriticalSectionLocker named name and associated with the critical...">wxCRIT_SECT_LOCKER()</a>: it creates a static critical section object and also the lock object associated with it.  <a href="#g3b0ab821a03aeecc1a7ddfcecb581355"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__funcmacro__thread.html#gb5a243025a42da8c351a2df8519f4208">wxLEAVE_CRIT_SECT</a>(critical_section)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This macro is equivalent to <a class="el" href="classwx_critical_section.html#9710ab7240b29a653fd9233c12aadba6">critical_section.Leave()</a> if <code>wxUSE_THREADS</code> is 1 and does nothing if it is 0.  <a href="#gb5a243025a42da8c351a2df8519f4208"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__funcmacro__thread.html#g53ce988bc3201b82b77d4779610be608">wxENTER_CRIT_SECT</a>(critical_section)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This macro is equivalent to <a class="el" href="classwx_critical_section.html#fa80c7cb306d72884ebcc4e60ea61d39">critical_section.Enter()</a> if <code>wxUSE_THREADS</code> is 1 and does nothing if it is 0.  <a href="#g53ce988bc3201b82b77d4779610be608"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__funcmacro__thread.html#g11517a2eeeb6367d9e0d705fa29dd97e">wxIsMainThread</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns <span class="literal">true</span> if this thread is the main one.  <a href="#g11517a2eeeb6367d9e0d705fa29dd97e"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__funcmacro__thread.html#g6671c1599fd4ccf6a7c7bb90b2304709">wxMutexGuiEnter</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function must be called when any thread other than the main GUI thread wants to get access to the GUI library.  <a href="#g6671c1599fd4ccf6a7c7bb90b2304709"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__group__funcmacro__thread.html#gddfdb2956953480a379d998ea7ced5b5">wxMutexGuiLeave</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function is only defined on platforms which support preemptive threads.  <a href="#gddfdb2956953480a379d998ea7ced5b5"></a><br></td></tr>
</table>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="g79ee915c6353e705958843a57a5148e2"></a><!-- doxytag: member="thread.h::wxCRIT_SECT_DECLARE" ref="g79ee915c6353e705958843a57a5148e2" args="(cs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define wxCRIT_SECT_DECLARE          </td>
          <td>(</td>
          <td class="paramtype">cs&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This macro declares a (static) critical section object named <em>cs</em> if <code>wxUSE_THREADS</code> is 1 and does nothing if it is 0. 
<p>
Include file: <div class="fragment"><pre class="fragment">#include &lt;wx/thread.h&gt; </pre></div> 
</div>
</div><p>
<a class="anchor" name="ga9f05a4361ea095939f90512ee52a831"></a><!-- doxytag: member="thread.h::wxCRIT_SECT_DECLARE_MEMBER" ref="ga9f05a4361ea095939f90512ee52a831" args="(cs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define wxCRIT_SECT_DECLARE_MEMBER          </td>
          <td>(</td>
          <td class="paramtype">cs&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This macro declares a critical section object named <em>cs</em> if <code>wxUSE_THREADS</code> is 1 and does nothing if it is 0. 
<p>
As it doesn't include the <code>static</code> keyword (unlike <a class="el" href="group__group__funcmacro__thread.html#g79ee915c6353e705958843a57a5148e2" title="This macro declares a (static) critical section object named cs if wxUSE_THREADS...">wxCRIT_SECT_DECLARE()</a>), it can be used to declare a class or struct member which explains its name.<p>
Include file: <div class="fragment"><pre class="fragment">#include &lt;wx/thread.h&gt; </pre></div> 
</div>
</div><p>
<a class="anchor" name="ge589848294c2cf63ad6895c4344755fe"></a><!-- doxytag: member="thread.h::wxCRIT_SECT_LOCKER" ref="ge589848294c2cf63ad6895c4344755fe" args="(name, cs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define wxCRIT_SECT_LOCKER          </td>
          <td>(</td>
          <td class="paramtype">name,         <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">cs&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This macro creates a <a class="el" href="classwx_critical_section_locker.html" title="This is a small helper class to be used with wxCriticalSection objects.">wxCriticalSectionLocker</a> named <em>name</em> and associated with the critical section <em>cs</em> if <code>wxUSE_THREADS</code> is 1 and does nothing if it is 0. 
<p>
Include file: <div class="fragment"><pre class="fragment">#include &lt;wx/thread.h&gt; </pre></div> 
</div>
</div><p>
<a class="anchor" name="g3b0ab821a03aeecc1a7ddfcecb581355"></a><!-- doxytag: member="thread.h::wxCRITICAL_SECTION" ref="g3b0ab821a03aeecc1a7ddfcecb581355" args="(name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define wxCRITICAL_SECTION          </td>
          <td>(</td>
          <td class="paramtype">name&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This macro combines <a class="el" href="group__group__funcmacro__thread.html#g79ee915c6353e705958843a57a5148e2" title="This macro declares a (static) critical section object named cs if wxUSE_THREADS...">wxCRIT_SECT_DECLARE()</a> and <a class="el" href="group__group__funcmacro__thread.html#ge589848294c2cf63ad6895c4344755fe" title="This macro creates a wxCriticalSectionLocker named name and associated with the critical...">wxCRIT_SECT_LOCKER()</a>: it creates a static critical section object and also the lock object associated with it. 
<p>
Because of this, it can be only used inside a function, not at global scope. For example:<p>
<div class="fragment"><pre class="fragment">    <span class="keywordtype">int</span> IncCount()
    {
        <span class="keyword">static</span> <span class="keywordtype">int</span> s_counter = 0;

        <a class="code" href="group__group__funcmacro__thread.html#g3b0ab821a03aeecc1a7ddfcecb581355" title="This macro combines wxCRIT_SECT_DECLARE() and wxCRIT_SECT_LOCKER(): it creates a...">wxCRITICAL_SECTION</a>(counter);

        <span class="keywordflow">return</span> ++s_counter;
    }
</pre></div><p>
Note that this example assumes that the function is called the first time from the main thread so that the critical section object is initialized correctly by the time other threads start calling it, if this is not the case this approach can <b>not</b> be used and the critical section must be made a global instead.<p>
Include file: <div class="fragment"><pre class="fragment">#include &lt;wx/thread.h&gt; </pre></div> 
</div>
</div><p>
<a class="anchor" name="g53ce988bc3201b82b77d4779610be608"></a><!-- doxytag: member="thread.h::wxENTER_CRIT_SECT" ref="g53ce988bc3201b82b77d4779610be608" args="(critical_section)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define wxENTER_CRIT_SECT          </td>
          <td>(</td>
          <td class="paramtype">critical_section&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This macro is equivalent to <a class="el" href="classwx_critical_section.html#fa80c7cb306d72884ebcc4e60ea61d39">critical_section.Enter()</a> if <code>wxUSE_THREADS</code> is 1 and does nothing if it is 0. 
<p>
Include file: <div class="fragment"><pre class="fragment">#include &lt;wx/thread.h&gt; </pre></div> 
</div>
</div><p>
<a class="anchor" name="gb5a243025a42da8c351a2df8519f4208"></a><!-- doxytag: member="thread.h::wxLEAVE_CRIT_SECT" ref="gb5a243025a42da8c351a2df8519f4208" args="(critical_section)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define wxLEAVE_CRIT_SECT          </td>
          <td>(</td>
          <td class="paramtype">critical_section&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This macro is equivalent to <a class="el" href="classwx_critical_section.html#9710ab7240b29a653fd9233c12aadba6">critical_section.Leave()</a> if <code>wxUSE_THREADS</code> is 1 and does nothing if it is 0. 
<p>
Include file: <div class="fragment"><pre class="fragment">#include &lt;wx/thread.h&gt; </pre></div> 
</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="g11517a2eeeb6367d9e0d705fa29dd97e"></a><!-- doxytag: member="thread.h::wxIsMainThread" ref="g11517a2eeeb6367d9e0d705fa29dd97e" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool wxIsMainThread           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns <span class="literal">true</span> if this thread is the main one. 
<p>
Always returns <span class="literal">true</span> if <code>wxUSE_THREADS</code> is 0.<p>
Include file: <div class="fragment"><pre class="fragment">#include &lt;wx/thread.h&gt; </pre></div> 
</div>
</div><p>
<a class="anchor" name="g6671c1599fd4ccf6a7c7bb90b2304709"></a><!-- doxytag: member="thread.h::wxMutexGuiEnter" ref="g6671c1599fd4ccf6a7c7bb90b2304709" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void wxMutexGuiEnter           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function must be called when any thread other than the main GUI thread wants to get access to the GUI library. 
<p>
This function will block the execution of the calling thread until the main thread (or any other thread holding the main GUI lock) leaves the GUI library and no other thread will enter the GUI library until the calling thread calls <a class="el" href="group__group__funcmacro__thread.html#gddfdb2956953480a379d998ea7ced5b5" title="This function is only defined on platforms which support preemptive threads.">wxMutexGuiLeave()</a>.<p>
Typically, these functions are used like this:<p>
<div class="fragment"><pre class="fragment">    <span class="keywordtype">void</span> MyThread::Foo(<span class="keywordtype">void</span>)
    {
        <span class="comment">// before doing any GUI calls we must ensure that</span>
        <span class="comment">// this thread is the only one doing it!</span>

        <a class="code" href="group__group__funcmacro__thread.html#g6671c1599fd4ccf6a7c7bb90b2304709" title="This function must be called when any thread other than the main GUI thread wants...">wxMutexGuiEnter</a>();

        <span class="comment">// Call GUI here:</span>
        my_window-&gt;DrawSomething();

        <a class="code" href="group__group__funcmacro__thread.html#gddfdb2956953480a379d998ea7ced5b5" title="This function is only defined on platforms which support preemptive threads.">wxMutexGuiLeave</a>();
    }
</pre></div><p>
This function is only defined on platforms which support preemptive threads and only works under some ports (wxMSW currently).<p>
<dl class="note" compact><dt><b>Note:</b></dt><dd>Under GTK, no creation of top-level windows is allowed in any thread but the main one.</dd></dl>
Include file: <div class="fragment"><pre class="fragment">#include &lt;wx/thread.h&gt; </pre></div> 
</div>
</div><p>
<a class="anchor" name="gddfdb2956953480a379d998ea7ced5b5"></a><!-- doxytag: member="thread.h::wxMutexGuiLeave" ref="gddfdb2956953480a379d998ea7ced5b5" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void wxMutexGuiLeave           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function is only defined on platforms which support preemptive threads. 
<p>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="group__group__funcmacro__thread.html#g6671c1599fd4ccf6a7c7bb90b2304709" title="This function must be called when any thread other than the main GUI thread wants...">wxMutexGuiEnter()</a></dd></dl>
Include file: <div class="fragment"><pre class="fragment">#include &lt;wx/thread.h&gt; </pre></div> 
</div>
</div><p>
</div>
<!-- ******************************************************* -->
<!--             Standard wxWidgets footer                   -->

<!-- NOTE: <br/> must go inside <p> but <hr/> must go outside -->
<p><br/></p><hr/>

<table width="100%" border="0">
<tr>
    <td align="left">
        <a href="http://www.wxwidgets.org" style="margin-left: 0px">
            <img src="powered-by-wxwidgets.png" alt="wxWidgets logo" border="0"/>
        </a>
    </td>
    <td valign="middle" align="center"><p class="footer">Page generated <tt>Fri Sep 4 06:57:22 2009</tt> by <a href="http://www.doxygen.org">Doxygen</a> 1.5.8</p></td>
    <td valign="middle" align="right"><p>[ <a href="#top" class="top">top</a> ]</p></td>
</tr>
</table>

<script src="wxwidgets.js" type="text/javascript"></script>

</body>
</html>

<!-- ***************************************************** -->
<!--         End of wxWidgets standard footer              -->
