<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">

<!-- ****************************************************** -->
<!--            Standard wxWidgets header                   -->

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
    <title>wxWidgets: XML Based Resource System (XRC)</title>
    <meta name="author" content="wxWidgets team"/>
    <meta name="created" content="Fri Sep 4 06:57:20 2009"/>
    <meta name="keywords" content="wxWidgets"/>
    <link href="wxwidgets.css" rel="stylesheet" type="text/css"/>
    <link href="tabs.css" rel="stylesheet" type="text/css"/>
</head>
<body>


<!--          End of wxWidgets standard header           -->
<!-- *************************************************** -->

<!-- Generated by Doxygen 1.5.8 -->
<script type="text/javascript">
<!--
function changeDisplayState (e){
  var num=this.id.replace(/[^[0-9]/g,'');
  var button=this.firstChild;
  var sectionDiv=document.getElementById('dynsection'+num);
  if (sectionDiv.style.display=='none'||sectionDiv.style.display==''){
    sectionDiv.style.display='block';
    button.src='open.gif';
  }else{
    sectionDiv.style.display='none';
    button.src='closed.gif';
  }
}
function initDynSections(){
  var divs=document.getElementsByTagName('div');
  var sectionCounter=1;
  for(var i=0;i<divs.length-1;i++){
    if(divs[i].className=='dynheader'&&divs[i+1].className=='dynsection'){
      var header=divs[i];
      var section=divs[i+1];
      var button=header.firstChild;
      if (button!='IMG'){
        divs[i].insertBefore(document.createTextNode(' '),divs[i].firstChild);
        button=document.createElement('img');
        divs[i].insertBefore(button,divs[i].firstChild);
      }
      header.style.cursor='pointer';
      header.onclick=changeDisplayState;
      header.id='dynheader'+sectionCounter;
      button.src='closed.gif';
      section.id='dynsection'+sectionCounter;
      section.style.display='none';
      section.style.marginLeft='14px';
      sectionCounter++;
    }
  }
}
window.onload = initDynSections;
-->
</script>
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Categories</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
    <li>
      <form action="search.php" method="get">
        <table cellspacing="0" cellpadding="0" border="0">
          <tr>
            <td><label>&nbsp;<u>S</u>earch&nbsp;for&nbsp;</label></td>
            <td><input type="text" name="query" value="" size="20" accesskey="s"/></td>
          </tr>
        </table>
      </form>
    </li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="index.html">Reference manual</a>&nbsp;&raquo&nbsp;<a class="el" href="page_topics.html">Topic Overviews</a>
  </div>
</div>
<div class="contents">
<h1><a class="anchor" name="overview_xrc">XML Based Resource System (XRC) </a></h1>Classes: <a class="el" href="classwx_xml_resource.html" title="This is the main class for interacting with the XML-based resource system.">wxXmlResource</a>, <a class="el" href="classwx_xml_resource_handler.html" title="wxXmlResourceHandler is an abstract base class for resource handlers capable of creating...">wxXmlResourceHandler</a><p>
The XML-based resource system, known as XRC, allows user interface elements such as dialogs, menu bars and toolbars, to be stored in text files and loaded into the application at run-time. XRC files can also be compiled into binary XRS files or C++ code (the former makes it possible to store all resources in a single file and the latter is useful when you want to embed the resources into the executable).<p>
There are several advantages to using XRC resources:<p>
<ul>
<li>Recompiling and linking an application is not necessary if the resources change. </li>
<li>If you use a dialog designer that generates C++ code, it can be hard to reintegrate this into existing C++ code. Separation of resources and code is a more elegant solution. </li>
<li>You can choose between different alternative resource files at run time, if necessary. </li>
<li>The XRC format uses sizers for flexibility, allowing dialogs to be resizable and highly portable. </li>
<li>The XRC format is a wxWidgets standard, and can be generated or postprocessed by any program that understands it. As it is basedon the XML standard, existing XML editors can be used for simple editing purposes.</li>
</ul>
XRC was written by Vaclav Slavik.<p>
<ul>
<li><a class="el" href="overview_xrc.html#overview_xrc_concepts">XRC Concepts</a> </li>
<li><a class="el" href="overview_xrc.html#overview_xrc_binaryresourcefiles">Using Binary Resource Files</a> </li>
<li><a class="el" href="overview_xrc.html#overview_xrc_embeddedresource">Using Embedded Resources</a> </li>
<li><a class="el" href="overview_xrc.html#overview_xrc_cppsample">XRC C++ Sample</a> </li>
<li><a class="el" href="overview_xrc.html#overview_xrc_sample">XRC Resource File Sample</a> </li>
<li><a class="el" href="overview_xrc.html#overview_xrc_cppheader">C++ header file generation</a> </li>
<li><a class="el" href="overview_xrc.html#overview_xrc_newresourcehandlers">Adding New Resource Handlers</a></li>
</ul>
See also the separate <a class="el" href="overview_xrcformat.html">XRC File Format</a> page for details about the XRC file format.<p>
<hr>
<h2><a class="anchor" name="overview_xrc_concepts">
XRC Concepts</a></h2>
These are the typical steps for using XRC files in your application.<p>
<ul>
<li>Include the appropriate headers: normally "wx/xrc/xmlres.h" will suffice. </li>
<li>If you are going to use XRS files (see <a class="el" href="overview_xrc.html#overview_xrc_binaryresourcefiles">Using Binary Resource Files</a>), install <a class="el" href="classwx_file_system.html" title="This class provides an interface for opening files on different file systems.">wxFileSystem</a> archive handler first with wxFileSystem::AddHandler(new wxArchiveFSHandler); </li>
<li>Call <a class="el" href="classwx_xml_resource.html#e9a487479dcd6204d12fbbf7be497561" title="Gets the global resources object or creates one if none exists.">wxXmlResource::Get()</a>-&gt;InitAllHandlers() from your <a class="el" href="classwx_app_console.html#99953775a2fd83fa2456e390779afe15" title="This must be provided by the application, and will usually create the application&#39;s...">wxApp::OnInit</a> function, and then call <a class="el" href="classwx_xml_resource.html#e9a487479dcd6204d12fbbf7be497561" title="Gets the global resources object or creates one if none exists.">wxXmlResource::Get()</a>-&gt;Load("myfile.xrc") to load the resource file. </li>
<li>To create a dialog from a resource, create it using the default constructor, and then load it. For example: <a class="el" href="classwx_xml_resource.html#e9a487479dcd6204d12fbbf7be497561" title="Gets the global resources object or creates one if none exists.">wxXmlResource::Get()</a>-&gt;LoadDialog(dlg, this, "dlg1"); </li>
<li>Set up event tables as usual but use the XRCID(str) macro to translate from XRC string names to a suitable integer identifier, for example <code>EVT_MENU(XRCID("quit"), MyFrame::OnQuit)</code>.</li>
</ul>
To create an XRC file, you can use one of the following methods.<p>
<ul>
<li>Create the file by hand. </li>
<li>Use wxDesigner &lt;<a href="http://www.roebling.de/">http://www.roebling.de/</a>&gt;, a commercial dialog designer/RAD tool. </li>
<li>Use DialogBlocks &lt;<a href="http://www.anthemion.co.uk/dialogblocks/">http://www.anthemion.co.uk/dialogblocks/</a>&gt;, a commercial dialog editor. </li>
<li>Use XRCed &lt;<a href="http://xrced.sf.net/">http://xrced.sf.net/</a>&gt;, a wxPython-based dialog editor that you can find in the wxPython/tools subdirectory of the wxWidgets SVN archive. </li>
<li>Use wxGlade &lt;<a href="http://wxglade.sf.net/">http://wxglade.sf.net/</a>&gt;, a GUI designer written in wxPython. At the moment it can generate Python, C++ and XRC.</li>
</ul>
A complete list of third-party tools that write to XRC can be found at &lt;<a href="http://www.wxwidgets.org/wiki/index.php/Tools">http://www.wxwidgets.org/wiki/index.php/Tools</a>&gt;.<p>
It is highly recommended that you use a resource editing tool, since it's fiddly writing XRC files by hand.<p>
You can use <a class="el" href="classwx_xml_resource.html#c44a714ff459b7f3bd6c78d27482bb60" title="Loads resources from XML files that match given filemask.">wxXmlResource::Load</a> in a number of ways. You can pass an XRC file (XML-based text resource file) or a zip-compressed file (see <a class="el" href="overview_xrc.html#overview_xrc_binaryresourcefiles">Using Binary Resource Files</a>), with extension ZIP or XRS, containing other XRC.<p>
You can also use embedded C++ resources (see <a class="el" href="overview_xrc.html#overview_xrc_embeddedresource">Using Embedded Resources</a>).<h2><a class="anchor" name="overview_xrc_binaryresourcefiles">
Using Binary Resource Files</a></h2>
To compile binary resource files, use the command-line <code>wxrc</code> utility. It takes one or more file parameters (the input XRC files) and the following switches and options:<p>
<ul>
<li>-h (--help): Show a help message. </li>
<li>-v (--verbose): Show verbose logging information. </li>
<li>-c (--cpp-code): Write C++ source rather than a XRS file. </li>
<li>-e (--extra-cpp-code): If used together with -c, generates C++ header file containing class definitions for the windows defined by the XRC file (see special subsection). </li>
<li>-u (--uncompressed): Do not compress XML files (C++ only). </li>
<li>-g (--gettext): Output underscore-wrapped strings that poEdit or gettext can scan. Outputs to stdout, or a file if -o is used. </li>
<li>-n (--function) &lt;name&gt;: Specify C++ function name (use with -c). </li>
<li>-o (--output) &lt;filename&gt;: Specify the output file, such as resource.xrs or resource.cpp. </li>
<li>-l (--list-of-handlers) &lt;filename&gt;: Output a list of necessary handlers to this file.</li>
</ul>
For example:<p>
<div class="fragment"><pre class="fragment">$ wxrc resource.xrc
$ wxrc resource.xrc -o resource.xrs
$ wxrc resource.xrc -v -c -o resource.cpp
</pre></div><p>
<dl class="note" compact><dt><b>Note:</b></dt><dd>XRS file is essentially a renamed ZIP archive which means that you can manipulate it with standard ZIP tools. Note that if you are using XRS files, you have to initialize the <a class="el" href="classwx_file_system.html" title="This class provides an interface for opening files on different file systems.">wxFileSystem</a> archive handler first! It is a simple thing to do:</dd></dl>
<div class="fragment"><pre class="fragment"><span class="preprocessor">#include &lt;<a class="code" href="filesys_8h.html">wx/filesys.h</a>&gt;</span>
<span class="preprocessor">#include &lt;wx/fs_arc.h&gt;</span>
...
wxFileSystem::AddHandler(<span class="keyword">new</span> wxArchiveFSHandler);
</pre></div><h2><a class="anchor" name="overview_xrc_embeddedresource">
Using Embedded Resources</a></h2>
It is sometimes useful to embed resources in the executable itself instead of loading an external file (e.g. when your app is small and consists only of one exe file). XRC provides means to convert resources into regular C++ file that can be compiled and included in the executable.<p>
Use the <code>-c</code> switch to <code>wxrc</code> utility to produce C++ file with embedded resources. This file will contain a function called <code>InitXmlResource</code> (unless you override this with a command line switch). Use it to load the resource:<p>
<div class="fragment"><pre class="fragment"><span class="keyword">extern</span> <span class="keywordtype">void</span> InitXmlResource(); <span class="comment">// defined in generated file</span>
...
wxXmlResource::Get()-&gt;InitAllHandlers();
InitXmlResource();
...
</pre></div><h2><a class="anchor" name="overview_xrc_cppsample">
XRC C++ Sample</a></h2>
This is the C++ source file (xrcdemo.cpp) for the XRC sample.<p>
<div class="fragment"><pre class="fragment"><span class="preprocessor">#include "wx/wx.h"</span>
<span class="preprocessor">#include "<a class="code" href="image_8h.html">wx/image.h</a>"</span>
<span class="preprocessor">#include "<a class="code" href="xmlres_8h.html">wx/xrc/xmlres.h</a>"</span>

<span class="comment">// the application icon</span>
<span class="preprocessor">#if defined(__WXGTK__) || defined(__WXMOTIF__) || defined(__WXMAC__)</span>
<span class="preprocessor"></span><span class="preprocessor">    #include "rc/appicon.xpm"</span>
<span class="preprocessor">#endif</span>
<span class="preprocessor"></span>
<span class="comment">// ----------------------------------------------------------------------------</span>
<span class="comment">// private classes</span>
<span class="comment">// ----------------------------------------------------------------------------</span>

<span class="comment">// Define a new application type, each program should derive a class from wxApp</span>
<span class="keyword">class </span>MyApp : <span class="keyword">public</span> <a class="code" href="classwx_app.html" title="The wxApp class represents the application itself when wxUSE_GUI=1.">wxApp</a>
{
<span class="keyword">public</span>:
    <span class="comment">// override base class virtuals</span>
    <span class="comment">// ----------------------------</span>

    <span class="comment">// this one is called on application startup and is a good place for the</span>
    <span class="comment">// app initialization (doing it here and not in the ctor allows to have an</span>
    <span class="comment">// error return: if OnInit() returns false, the application terminates)</span>
    <span class="keyword">virtual</span> <span class="keywordtype">bool</span> OnInit();
};

<span class="comment">// Define a new frame type: this is going to be our main frame</span>
<span class="keyword">class </span>MyFrame : <span class="keyword">public</span> <a class="code" href="classwx_frame.html" title="A frame is a window whose size and position can (usually) be changed by the user...">wxFrame</a>
{
<span class="keyword">public</span>:
    <span class="comment">// ctor(s)</span>
    MyFrame(<span class="keyword">const</span> <a class="code" href="classwx_string.html" title="The wxString class has been completely rewritten for wxWidgets 3.0 and this change...">wxString</a>&amp; title, <span class="keyword">const</span> <a class="code" href="classwx_point.html" title="A wxPoint is a useful data structure for graphics operations.">wxPoint</a>&amp; pos, <span class="keyword">const</span> <a class="code" href="classwx_size.html" title="A wxSize is a useful data structure for graphics operations.">wxSize</a>&amp; size);

    <span class="comment">// event handlers (these functions should _not_ be virtual)</span>
    <span class="keywordtype">void</span> OnQuit(<a class="code" href="classwx_command_event.html" title="This event class contains information about command events, which originate from...">wxCommandEvent</a>&amp; event);
    <span class="keywordtype">void</span> OnAbout(<a class="code" href="classwx_command_event.html" title="This event class contains information about command events, which originate from...">wxCommandEvent</a>&amp; event);
    <span class="keywordtype">void</span> OnDlg1(<a class="code" href="classwx_command_event.html" title="This event class contains information about command events, which originate from...">wxCommandEvent</a>&amp; event);
    <span class="keywordtype">void</span> OnDlg2(<a class="code" href="classwx_command_event.html" title="This event class contains information about command events, which originate from...">wxCommandEvent</a>&amp; event);

<span class="keyword">private</span>:
    <span class="comment">// any class wishing to process wxWidgets events must use this macro</span>
    <a class="code" href="group__group__funcmacro__events.html#g7c5c2ed4b4fcd9644d6f21c824721adf" title="Use this macro inside a class declaration to declare a static event table for that...">DECLARE_EVENT_TABLE</a>()
};

<span class="comment">// ----------------------------------------------------------------------------</span>
<span class="comment">// event tables and other macros for wxWidgets</span>
<span class="comment">// ----------------------------------------------------------------------------</span>

<a class="code" href="group__group__funcmacro__events.html#g405678e40da45711c720b72cda7f1470" title="Use this macro in a source file to start listing static event handlers for a specific...">BEGIN_EVENT_TABLE</a>(MyFrame, <a class="code" href="classwx_frame.html" title="A frame is a window whose size and position can (usually) be changed by the user...">wxFrame</a>)
    EVT_MENU(XRCID("menu_quit"),  MyFrame::OnQuit)
    EVT_MENU(XRCID("menu_about"), MyFrame::OnAbout)
    EVT_MENU(XRCID("menu_dlg1"), MyFrame::OnDlg1)
    EVT_MENU(XRCID("menu_dlg2"), MyFrame::OnDlg2)
<a class="code" href="group__group__funcmacro__events.html#g5df87bbe7c82edea87b2aeaa6dc57cfd" title="Use this macro in a source file to end listing static event handlers for a specific...">END_EVENT_TABLE</a>()

<a class="code" href="group__group__funcmacro__rtti.html#g7d79b7b778032bc4e2712dcf16943d72" title="This is used in the application class implementation file to make the application...">IMPLEMENT_APP</a>(MyApp)

<span class="comment">// ----------------------------------------------------------------------------</span>
<span class="comment">// the application class</span>
<span class="comment">// ----------------------------------------------------------------------------</span>

<span class="comment">// 'Main program' equivalent: the program execution "starts" here</span>
<span class="keywordtype">bool</span> MyApp::OnInit()
{
    <a class="code" href="classwx_image.html#b39fb3747dfb8c2d444eff9fe41fa205" title="Register an image handler.">wxImage::AddHandler</a>(<span class="keyword">new</span> wxGIFHandler);
    <a class="code" href="classwx_xml_resource.html#e9a487479dcd6204d12fbbf7be497561" title="Gets the global resources object or creates one if none exists.">wxXmlResource::Get</a>()-&gt;<a class="code" href="classwx_xml_resource.html#1fea48a0061b93247b4869a55877862b" title="Initializes handlers for all supported controls/windows.">InitAllHandlers</a>();
    <a class="code" href="classwx_xml_resource.html#e9a487479dcd6204d12fbbf7be497561" title="Gets the global resources object or creates one if none exists.">wxXmlResource::Get</a>()-&gt;<a class="code" href="classwx_xml_resource.html#c44a714ff459b7f3bd6c78d27482bb60" title="Loads resources from XML files that match given filemask.">Load</a>(<span class="stringliteral">"rc/resource.xrc"</span>);

    MyFrame *frame = <span class="keyword">new</span> MyFrame(<span class="stringliteral">"XML resources demo"</span>,
                                 <a class="code" href="classwx_point.html" title="A wxPoint is a useful data structure for graphics operations.">wxPoint</a>(50, 50), <a class="code" href="classwx_size.html" title="A wxSize is a useful data structure for graphics operations.">wxSize</a>(450, 340));
    frame-&gt;Show(<span class="keyword">true</span>);
    <span class="keywordflow">return</span> <span class="keyword">true</span>;
}

<span class="comment">// ----------------------------------------------------------------------------</span>
<span class="comment">// main frame</span>
<span class="comment">// ----------------------------------------------------------------------------</span>

<span class="comment">// frame constructor</span>
MyFrame::MyFrame(<span class="keyword">const</span> <a class="code" href="classwx_string.html" title="The wxString class has been completely rewritten for wxWidgets 3.0 and this change...">wxString</a>&amp; title, <span class="keyword">const</span> <a class="code" href="classwx_point.html" title="A wxPoint is a useful data structure for graphics operations.">wxPoint</a>&amp; pos, <span class="keyword">const</span> <a class="code" href="classwx_size.html" title="A wxSize is a useful data structure for graphics operations.">wxSize</a>&amp; size)
: <a class="code" href="classwx_frame.html" title="A frame is a window whose size and position can (usually) be changed by the user...">wxFrame</a>((<a class="code" href="classwx_frame.html" title="A frame is a window whose size and position can (usually) be changed by the user...">wxFrame</a> *)NULL, -1, title, pos, size)
{
    SetIcon(<a class="code" href="group__group__funcmacro__gdi.html#g1f22eefa44998cbeb8f018978cf5d375" title="This macro loads an icon from either application resources (on the platforms for...">wxICON</a>(appicon));

    SetMenuBar(<a class="code" href="classwx_xml_resource.html#e9a487479dcd6204d12fbbf7be497561" title="Gets the global resources object or creates one if none exists.">wxXmlResource::Get</a>()-&gt;LoadMenuBar(<span class="stringliteral">"mainmenu"</span>));
    SetToolBar(<a class="code" href="classwx_xml_resource.html#e9a487479dcd6204d12fbbf7be497561" title="Gets the global resources object or creates one if none exists.">wxXmlResource::Get</a>()-&gt;LoadToolBar(<span class="keyword">this</span>, <span class="stringliteral">"toolbar"</span>));
}

<span class="comment">// event handlers</span>
<span class="keywordtype">void</span> MyFrame::OnQuit(<a class="code" href="classwx_command_event.html" title="This event class contains information about command events, which originate from...">wxCommandEvent</a>&amp; WXUNUSED(event))
{
    <span class="comment">// true is to force the frame to close</span>
    Close(<span class="keyword">true</span>);
}

<span class="keywordtype">void</span> MyFrame::OnAbout(<a class="code" href="classwx_command_event.html" title="This event class contains information about command events, which originate from...">wxCommandEvent</a>&amp; WXUNUSED(event))
{
    <a class="code" href="classwx_string.html" title="The wxString class has been completely rewritten for wxWidgets 3.0 and this change...">wxString</a> msg;
    msg.<a class="code" href="classwx_string.html#9588b7f2684b9a6a924dc3746a2b2f8d" title="Similar to the standard function sprintf().">Printf</a>( <a class="code" href="group__group__funcmacro__string.html#g7dfc2888539861afe6c4337ef315472b" title="This macro is exactly the same as wxT() and is defined in wxWidgets simply because...">_T</a>(<span class="stringliteral">"This is the about dialog of XML resources demo.\n"</span>)
                <a class="code" href="group__group__funcmacro__string.html#g7dfc2888539861afe6c4337ef315472b" title="This macro is exactly the same as wxT() and is defined in wxWidgets simply because...">_T</a>(<span class="stringliteral">"Welcome to %s"</span>), wxVERSION_STRING);

    <a class="code" href="group__group__funcmacro__dialog.html#gf8a6b7e1e34eae82d3d75e3721298b26" title="Show a general purpose message dialog.">wxMessageBox</a>(msg, <span class="stringliteral">"About XML resources demo"</span>,
                 wxOK | wxICON_INFORMATION, <span class="keyword">this</span>);
}

<span class="keywordtype">void</span> MyFrame::OnDlg1(<a class="code" href="classwx_command_event.html" title="This event class contains information about command events, which originate from...">wxCommandEvent</a>&amp; WXUNUSED(event))
{
    <a class="code" href="classwx_dialog.html" title="A dialog box is a window with a title bar and sometimes a system menu, which can...">wxDialog</a> dlg;
    <a class="code" href="classwx_xml_resource.html#e9a487479dcd6204d12fbbf7be497561" title="Gets the global resources object or creates one if none exists.">wxXmlResource::Get</a>()-&gt;<a class="code" href="classwx_xml_resource.html#a9f2603cb55bfb2c696972be9875e229" title="Loads a dialog.">LoadDialog</a>(&amp;dlg, <span class="keyword">this</span>, <span class="stringliteral">"dlg1"</span>);
    dlg.<a class="code" href="classwx_dialog.html#6e078c3d0653f75ad3c34a37c0b54637" title="Shows a modal dialog.">ShowModal</a>();
}

<span class="keywordtype">void</span> MyFrame::OnDlg2(<a class="code" href="classwx_command_event.html" title="This event class contains information about command events, which originate from...">wxCommandEvent</a>&amp; WXUNUSED(event))
{
    <a class="code" href="classwx_dialog.html" title="A dialog box is a window with a title bar and sometimes a system menu, which can...">wxDialog</a> dlg;
    <a class="code" href="classwx_xml_resource.html#e9a487479dcd6204d12fbbf7be497561" title="Gets the global resources object or creates one if none exists.">wxXmlResource::Get</a>()-&gt;<a class="code" href="classwx_xml_resource.html#a9f2603cb55bfb2c696972be9875e229" title="Loads a dialog.">LoadDialog</a>(&amp;dlg, <span class="keyword">this</span>, <span class="stringliteral">"dlg2"</span>);
    dlg.<a class="code" href="classwx_dialog.html#6e078c3d0653f75ad3c34a37c0b54637" title="Shows a modal dialog.">ShowModal</a>();
}
</pre></div><h2><a class="anchor" name="overview_xrc_sample">
XRC Resource File Sample</a></h2>
This is the XML file (resource.xrc) for the XRC sample.<p>
<div class="fragment"><pre class="fragment">&lt;?xml version=<span class="stringliteral">"1.0"</span>?&gt;
&lt;resource version=<span class="stringliteral">"2.3.0.1"</span>&gt;
  &lt;<span class="keywordtype">object</span> <span class="keyword">class</span>=<span class="stringliteral">"wxMenuBar"</span> name=<span class="stringliteral">"mainmenu"</span>&gt;
    &lt;style&gt;wxMB_DOCKABLE&lt;/style&gt;
    &lt;<span class="keywordtype">object</span> <span class="keyword">class</span>=<span class="stringliteral">"wxMenu"</span> name=<span class="stringliteral">"menu_file"</span>&gt;
      &lt;label&gt;_File&lt;/label&gt;
      &lt;style&gt;wxMENU_TEAROFF&lt;/style&gt;
      &lt;<span class="keywordtype">object</span> <span class="keyword">class</span>=<span class="stringliteral">"wxMenuItem"</span> name=<span class="stringliteral">"menu_about"</span>&gt;
        &lt;label&gt;_About...&lt;/label&gt;
        &lt;bitmap&gt;filesave.gif&lt;/bitmap&gt;
      &lt;/<span class="keywordtype">object</span>&gt;
      &lt;<span class="keywordtype">object</span> <span class="keyword">class</span>=<span class="stringliteral">"separator"</span>/&gt;
      &lt;<span class="keywordtype">object</span> <span class="keyword">class</span>=<span class="stringliteral">"wxMenuItem"</span> name=<span class="stringliteral">"menu_dlg1"</span>&gt;
        &lt;label&gt;Dialog 1&lt;/label&gt;
      &lt;/<span class="keywordtype">object</span>&gt;
      &lt;<span class="keywordtype">object</span> <span class="keyword">class</span>=<span class="stringliteral">"wxMenuItem"</span> name=<span class="stringliteral">"menu_dlg2"</span>&gt;
        &lt;label&gt;Dialog 2&lt;/label&gt;
      &lt;/<span class="keywordtype">object</span>&gt;
      &lt;<span class="keywordtype">object</span> <span class="keyword">class</span>=<span class="stringliteral">"separator"</span>/&gt;
      &lt;<span class="keywordtype">object</span> <span class="keyword">class</span>=<span class="stringliteral">"wxMenuItem"</span> name=<span class="stringliteral">"menu_quit"</span>&gt;
        &lt;label&gt;E_xit\tAlt-X&lt;/label&gt;
      &lt;/<span class="keywordtype">object</span>&gt;
    &lt;/<span class="keywordtype">object</span>&gt;
  &lt;/<span class="keywordtype">object</span>&gt;
  &lt;<span class="keywordtype">object</span> <span class="keyword">class</span>=<span class="stringliteral">"wxToolBar"</span> name=<span class="stringliteral">"toolbar"</span>&gt;
    &lt;style&gt;wxTB_FLAT|wxTB_DOCKABLE&lt;/style&gt;
    &lt;margins&gt;2,2&lt;/margins&gt;
    &lt;<span class="keywordtype">object</span> <span class="keyword">class</span>=<span class="stringliteral">"tool"</span> name=<span class="stringliteral">"menu_open"</span>&gt;
      &lt;bitmap&gt;fileopen.gif&lt;/bitmap&gt;
      &lt;tooltip&gt;Open catalog&lt;/tooltip&gt;
    &lt;/<span class="keywordtype">object</span>&gt;
    &lt;<span class="keywordtype">object</span> <span class="keyword">class</span>=<span class="stringliteral">"tool"</span> name=<span class="stringliteral">"menu_save"</span>&gt;
      &lt;bitmap&gt;filesave.gif&lt;/bitmap&gt;
      &lt;tooltip&gt;Save catalog&lt;/tooltip&gt;
    &lt;/<span class="keywordtype">object</span>&gt;
    &lt;<span class="keywordtype">object</span> <span class="keyword">class</span>=<span class="stringliteral">"tool"</span> name=<span class="stringliteral">"menu_update"</span>&gt;
      &lt;bitmap&gt;update.gif&lt;/bitmap&gt;
      &lt;tooltip&gt;Update catalog - synchronize it with sources&lt;/tooltip&gt;
    &lt;/<span class="keywordtype">object</span>&gt;
    &lt;separator/&gt;
    &lt;<span class="keywordtype">object</span> <span class="keyword">class</span>=<span class="stringliteral">"tool"</span> name=<span class="stringliteral">"menu_quotes"</span>&gt;
      &lt;bitmap&gt;quotes.gif&lt;/bitmap&gt;
      &lt;toggle&gt;1&lt;/toggle&gt;
      &lt;tooltip&gt;Display quotes around the <span class="keywordtype">string</span>?&lt;/tooltip&gt;
    &lt;/<span class="keywordtype">object</span>&gt;
    &lt;<span class="keywordtype">object</span> <span class="keyword">class</span>=<span class="stringliteral">"separator"</span>/&gt;
    &lt;<span class="keywordtype">object</span> <span class="keyword">class</span>=<span class="stringliteral">"tool"</span> name=<span class="stringliteral">"menu_fuzzy"</span>&gt;
      &lt;bitmap&gt;fuzzy.gif&lt;/bitmap&gt;
      &lt;tooltip&gt;Toggled <span class="keywordflow">if</span> selected <span class="keywordtype">string</span> is fuzzy translation&lt;/tooltip&gt;
      &lt;toggle&gt;1&lt;/toggle&gt;
    &lt;/<span class="keywordtype">object</span>&gt;
  &lt;/<span class="keywordtype">object</span>&gt;
  &lt;<span class="keywordtype">object</span> <span class="keyword">class</span>=<span class="stringliteral">"wxDialog"</span> name=<span class="stringliteral">"dlg1"</span>&gt;
    &lt;<span class="keywordtype">object</span> <span class="keyword">class</span>=<span class="stringliteral">"wxBoxSizer"</span>&gt;
      &lt;<span class="keywordtype">object</span> <span class="keyword">class</span>=<span class="stringliteral">"sizeritem"</span>&gt;
        &lt;<span class="keywordtype">object</span> <span class="keyword">class</span>=<span class="stringliteral">"wxBitmapButton"</span>&gt;
          &lt;bitmap&gt;fuzzy.gif&lt;/bitmap&gt;
          &lt;focus&gt;fileopen.gif&lt;/focus&gt;
        &lt;/<span class="keywordtype">object</span>&gt;
      &lt;/<span class="keywordtype">object</span>&gt;
      &lt;<span class="keywordtype">object</span> <span class="keyword">class</span>=<span class="stringliteral">"sizeritem"</span>&gt;
        &lt;<span class="keywordtype">object</span> <span class="keyword">class</span>=<span class="stringliteral">"wxPanel"</span>&gt;
          &lt;<span class="keywordtype">object</span> <span class="keyword">class</span>=<span class="stringliteral">"wxStaticText"</span>&gt;
            &lt;label&gt;fdgdfgdfgdfg&lt;/label&gt;
          &lt;/<span class="keywordtype">object</span>&gt;
          &lt;style&gt;wxBORDER\_SUNKEN&lt;/style&gt;
        &lt;/<span class="keywordtype">object</span>&gt;
        &lt;flag&gt;<a class="code" href="defs_8h.html#543dd017a172dc316253a8a1f351dde9ea58cfe429cf1512d3b026dea8c1b044">wxALIGN_CENTER</a>&lt;/flag&gt;
      &lt;/<span class="keywordtype">object</span>&gt;
      &lt;<span class="keywordtype">object</span> <span class="keyword">class</span>=<span class="stringliteral">"sizeritem"</span>&gt;
        &lt;<span class="keywordtype">object</span> <span class="keyword">class</span>=<span class="stringliteral">"wxButton"</span>&gt;
          &lt;label&gt;Buttonek&lt;/label&gt;
        &lt;/<span class="keywordtype">object</span>&gt;
        &lt;border&gt;10d&lt;/border&gt;
        &lt;flag&gt;<a class="code" href="defs_8h.html#c0f30319732dcceda470516918ff3556066863c82a2c08f6f53b663de87c60b6">wxALL</a>&lt;/flag&gt;
      &lt;/<span class="keywordtype">object</span>&gt;
      &lt;<span class="keywordtype">object</span> <span class="keyword">class</span>=<span class="stringliteral">"sizeritem"</span>&gt;
        &lt;<span class="keywordtype">object</span> <span class="keyword">class</span>=<span class="stringliteral">"wxHtmlWindow"</span>&gt;
          &lt;htmlcode&gt;&lt;h1&gt;Hi,&lt;/h1&gt;man&lt;/htmlcode&gt;
          &lt;size&gt;100,45d&lt;/size&gt;
        &lt;/<span class="keywordtype">object</span>&gt;
      &lt;/<span class="keywordtype">object</span>&gt;
      &lt;<span class="keywordtype">object</span> <span class="keyword">class</span>=<span class="stringliteral">"sizeritem"</span>&gt;
        &lt;<span class="keywordtype">object</span> <span class="keyword">class</span>=<span class="stringliteral">"wxNotebook"</span>&gt;
          &lt;<span class="keywordtype">object</span> <span class="keyword">class</span>=<span class="stringliteral">"notebookpage"</span>&gt;
            &lt;<span class="keywordtype">object</span> <span class="keyword">class</span>=<span class="stringliteral">"wxPanel"</span>&gt;
              &lt;<span class="keywordtype">object</span> <span class="keyword">class</span>=<span class="stringliteral">"wxBoxSizer"</span>&gt;
                &lt;<span class="keywordtype">object</span> <span class="keyword">class</span>=<span class="stringliteral">"sizeritem"</span>&gt;
                  &lt;<span class="keywordtype">object</span> <span class="keyword">class</span>=<span class="stringliteral">"wxHtmlWindow"</span>&gt;
                    &lt;htmlcode&gt;Hello, we are inside a &lt;u&gt;NOTEBOOK&lt;/u&gt;...&lt;/htmlcode&gt;
                    &lt;size&gt;50,50d&lt;/size&gt;
                  &lt;/<span class="keywordtype">object</span>&gt;
                  &lt;option&gt;1&lt;/option&gt;
                &lt;/<span class="keywordtype">object</span>&gt;
              &lt;/<span class="keywordtype">object</span>&gt;
            &lt;/<span class="keywordtype">object</span>&gt;
            &lt;label&gt;Page&lt;/label&gt;
          &lt;/<span class="keywordtype">object</span>&gt;
          &lt;<span class="keywordtype">object</span> <span class="keyword">class</span>=<span class="stringliteral">"notebookpage"</span>&gt;
            &lt;<span class="keywordtype">object</span> <span class="keyword">class</span>=<span class="stringliteral">"wxPanel"</span>&gt;
              &lt;<span class="keywordtype">object</span> <span class="keyword">class</span>=<span class="stringliteral">"wxBoxSizer"</span>&gt;
                &lt;<span class="keywordtype">object</span> <span class="keyword">class</span>=<span class="stringliteral">"sizeritem"</span>&gt;
                  &lt;<span class="keywordtype">object</span> <span class="keyword">class</span>=<span class="stringliteral">"wxHtmlWindow"</span>&gt;
                    &lt;htmlcode&gt;Hello, we are inside a &lt;u&gt;NOTEBOOK&lt;/u&gt;...&lt;/htmlcode&gt;
                    &lt;size&gt;50,50d&lt;/size&gt;
                  &lt;/<span class="keywordtype">object</span>&gt;
                &lt;/<span class="keywordtype">object</span>&gt;
              &lt;/<span class="keywordtype">object</span>&gt;
            &lt;/<span class="keywordtype">object</span>&gt;
            &lt;label&gt;Page 2&lt;/label&gt;
          &lt;/<span class="keywordtype">object</span>&gt;
          &lt;usenotebooksizer&gt;1&lt;/usenotebooksizer&gt;
        &lt;/<span class="keywordtype">object</span>&gt;
        &lt;flag&gt;<a class="code" href="defs_8h.html#27b6b668631a5f79f24d474af7d9b3880d831bd6985c81f9bbc4830cc0c2e7df">wxEXPAND</a>&lt;/flag&gt;
      &lt;/<span class="keywordtype">object</span>&gt;
      &lt;orient&gt;<a class="code" href="defs_8h.html#1e6994f40bd9cb140e292afb165af9712134d1cb8cf605532880c118190695b5">wxVERTICAL</a>&lt;/orient&gt;
    &lt;/<span class="keywordtype">object</span>&gt;
  &lt;/<span class="keywordtype">object</span>&gt;
  &lt;<span class="keywordtype">object</span> <span class="keyword">class</span>=<span class="stringliteral">"wxDialog"</span> name=<span class="stringliteral">"dlg2"</span>&gt;
    &lt;<span class="keywordtype">object</span> <span class="keyword">class</span>=<span class="stringliteral">"wxBoxSizer"</span>&gt;
      &lt;orient&gt;<a class="code" href="defs_8h.html#1e6994f40bd9cb140e292afb165af9712134d1cb8cf605532880c118190695b5">wxVERTICAL</a>&lt;/orient&gt;
      &lt;<span class="keywordtype">object</span> <span class="keyword">class</span>=<span class="stringliteral">"sizeritem"</span> name=<span class="stringliteral">"dfgdfg"</span>&gt;
        &lt;<span class="keywordtype">object</span> <span class="keyword">class</span>=<span class="stringliteral">"wxTextCtrl"</span>&gt;
          &lt;size&gt;200,200d&lt;/size&gt;
          &lt;style&gt;wxTE_MULTILINE|<a class="code" href="defs_8h.html#f63c94dff4e3f25a3c5e9d2874456edfc4a87595a588e0c737619551ca4fbfe4">wxBORDER_SUNKEN</a>&lt;/style&gt;
          &lt;value&gt;Hello, <span class="keyword">this</span> is an ordinary multiline\n         textctrl....&lt;/value&gt;
        &lt;/<span class="keywordtype">object</span>&gt;
        &lt;option&gt;1&lt;/option&gt;
        &lt;flag&gt;<a class="code" href="defs_8h.html#27b6b668631a5f79f24d474af7d9b3880d831bd6985c81f9bbc4830cc0c2e7df">wxEXPAND</a>|<a class="code" href="defs_8h.html#c0f30319732dcceda470516918ff3556066863c82a2c08f6f53b663de87c60b6">wxALL</a>&lt;/flag&gt;
        &lt;border&gt;10&lt;/border&gt;
      &lt;/<span class="keywordtype">object</span>&gt;
      &lt;<span class="keywordtype">object</span> <span class="keyword">class</span>=<span class="stringliteral">"sizeritem"</span>&gt;
        &lt;<span class="keywordtype">object</span> <span class="keyword">class</span>=<span class="stringliteral">"wxBoxSizer"</span>&gt;
          &lt;<span class="keywordtype">object</span> <span class="keyword">class</span>=<span class="stringliteral">"sizeritem"</span>&gt;
            &lt;<span class="keywordtype">object</span> <span class="keyword">class</span>=<span class="stringliteral">"wxButton"</span> name=<span class="stringliteral">"wxID_OK"</span>&gt;
              &lt;label&gt;Ok&lt;/label&gt;
              &lt;<span class="keywordflow">default</span>&gt;1&lt;/<span class="keywordflow">default</span>&gt;
            &lt;/<span class="keywordtype">object</span>&gt;
          &lt;/<span class="keywordtype">object</span>&gt;
          &lt;<span class="keywordtype">object</span> <span class="keyword">class</span>=<span class="stringliteral">"sizeritem"</span>&gt;
            &lt;<span class="keywordtype">object</span> <span class="keyword">class</span>=<span class="stringliteral">"wxButton"</span> name=<span class="stringliteral">"wxID_CANCEL"</span>&gt;
              &lt;label&gt;Cancel&lt;/label&gt;
            &lt;/<span class="keywordtype">object</span>&gt;
            &lt;border&gt;10&lt;/border&gt;
            &lt;flag&gt;<a class="code" href="defs_8h.html#c0f30319732dcceda470516918ff3556ab66c1f81b54102c884b1307840d323c">wxLEFT</a>&lt;/flag&gt;
          &lt;/<span class="keywordtype">object</span>&gt;
        &lt;/<span class="keywordtype">object</span>&gt;
        &lt;flag&gt;<a class="code" href="defs_8h.html#c0f30319732dcceda470516918ff3556ab66c1f81b54102c884b1307840d323c">wxLEFT</a>|<a class="code" href="defs_8h.html#c0f30319732dcceda470516918ff35562b2d18b748d21a493f82e589f1a05746">wxRIGHT</a>|<a class="code" href="defs_8h.html#c0f30319732dcceda470516918ff355617bc9a3dbb6e30a2418601aa5e30019b">wxBOTTOM</a>|<a class="code" href="defs_8h.html#543dd017a172dc316253a8a1f351dde90e5767d868ab07b01a162db7fe56e578">wxALIGN_RIGHT</a>&lt;/flag&gt;
        &lt;border&gt;10&lt;/border&gt;
      &lt;/<span class="keywordtype">object</span>&gt;
    &lt;/<span class="keywordtype">object</span>&gt;
    &lt;title&gt;Second testing dialog&lt;/title&gt;
  &lt;/<span class="keywordtype">object</span>&gt;
&lt;/resource&gt;
</pre></div><h2><a class="anchor" name="overview_xrc_cppheader">
C++ header file generation</a></h2>
Using the <code>-e</code> switch together with <code>-c</code>, a C++ header file is written containing class definitions for the GUI windows defined in the XRC file. This code generation can make it easier to use XRC and automate program development. The classes can be used as basis for development, freeing the programmer from dealing with most of the XRC specifics (e.g. <code>XRCCTRL</code>).<p>
For each top level window defined in the XRC file a C++ class definition is generated, containing as class members the named widgets of the window. A default constructor for each class is also generated. Inside the constructor all XRC loading is done and all class members representing widgets are initialized.<p>
A simple example will help understand how the scheme works. Suppose you have a XRC file defining a top level window <code>TestWnd_Base</code>, which subclasses <a class="el" href="classwx_frame.html" title="A frame is a window whose size and position can (usually) be changed by the user...">wxFrame</a> (any other class like <code><a class="el" href="classwx_dialog.html" title="A dialog box is a window with a title bar and sometimes a system menu, which can...">wxDialog</a></code> will do also), and has subwidgets <a class="el" href="classwx_text_ctrl.html" title="A text control allows text to be displayed and edited.">wxTextCtrl</a> A and <a class="el" href="classwx_button.html" title="A button is a control that contains a text string, and is one of the most common...">wxButton</a> B.<p>
The XRC file and corresponding class definition in the header file will be something like:<p>
<div class="fragment"><pre class="fragment">&lt;?xml version=<span class="stringliteral">"1.0"</span>?&gt;
&lt;resource version=<span class="stringliteral">"2.3.0.1"</span>&gt;
    &lt;<span class="keywordtype">object</span> <span class="keyword">class</span>=<span class="stringliteral">"wxFrame"</span> name=<span class="stringliteral">"TestWnd_Base"</span>&gt;
        &lt;size&gt;-1,-1&lt;/size&gt;
        &lt;title&gt;Test&lt;/title&gt;
        &lt;<span class="keywordtype">object</span> <span class="keyword">class</span>=<span class="stringliteral">"wxBoxSizer"</span>&gt;
            &lt;orient&gt;<a class="code" href="defs_8h.html#1e6994f40bd9cb140e292afb165af971b96154c324ed87cc17e9b227f9248c77">wxHORIZONTAL</a>&lt;/orient&gt;
            &lt;<span class="keywordtype">object</span> <span class="keyword">class</span>=<span class="stringliteral">"sizeritem"</span>&gt;
                &lt;<span class="keywordtype">object</span> <span class="keyword">class</span>=<span class="stringliteral">"wxTextCtrl"</span> name=<span class="stringliteral">"A"</span>&gt;
                    &lt;label&gt;Test label&lt;/label&gt;
                &lt;/<span class="keywordtype">object</span>&gt;
            &lt;/<span class="keywordtype">object</span>&gt;
            &lt;<span class="keywordtype">object</span> <span class="keyword">class</span>=<span class="stringliteral">"sizeritem"</span>&gt;
                &lt;<span class="keywordtype">object</span> <span class="keyword">class</span>=<span class="stringliteral">"wxButton"</span> name=<span class="stringliteral">"B"</span>&gt;
                    &lt;label&gt;Test button&lt;/label&gt;
                &lt;/<span class="keywordtype">object</span>&gt;
            &lt;/<span class="keywordtype">object</span>&gt;
        &lt;/<span class="keywordtype">object</span>&gt;
    &lt;/<span class="keywordtype">object</span>&gt;
&lt;/resource&gt;


<span class="keyword">class </span>TestWnd_Base : <span class="keyword">public</span> <a class="code" href="classwx_frame.html" title="A frame is a window whose size and position can (usually) be changed by the user...">wxFrame</a>
{
<span class="keyword">protected</span>:
    <a class="code" href="classwx_text_ctrl.html" title="A text control allows text to be displayed and edited.">wxTextCtrl</a>* A;
    <a class="code" href="classwx_button.html" title="A button is a control that contains a text string, and is one of the most common...">wxButton</a>* B;

<span class="keyword">private</span>:
    <span class="keywordtype">void</span> InitWidgetsFromXRC()
    {
        <a class="code" href="classwx_xml_resource.html#e9a487479dcd6204d12fbbf7be497561" title="Gets the global resources object or creates one if none exists.">wxXmlResource::Get</a>()-&gt;<a class="code" href="classwx_xml_resource.html#92fb76bed2c93c283c940c0a02e0a543" title="Load an object from the resource specifying both the resource name and the class...">LoadObject</a>(<span class="keyword">this</span>, NULL, <span class="stringliteral">"TestWnd"</span>, <span class="stringliteral">"wxFrame"</span>);
        A = XRCCTRL(*<span class="keyword">this</span>, <span class="stringliteral">"A"</span>, <a class="code" href="classwx_text_ctrl.html" title="A text control allows text to be displayed and edited.">wxTextCtrl</a>);
        B = XRCCTRL(*<span class="keyword">this</span>, <span class="stringliteral">"B"</span>, <a class="code" href="classwx_button.html" title="A button is a control that contains a text string, and is one of the most common...">wxButton</a>);
    }
<span class="keyword">public</span>:
    TestWnd::TestWnd()
    {
        InitWidgetsFromXRC();
    }
};
</pre></div><p>
The generated window class can be used as basis for the full window class. The class members which represent widgets may be accessed by name instead of using <code>XRCCTRL</code> every time you wish to reference them (note that they are <code>protected</code> class members), though you must still use <code>XRCID</code> to refer to widget IDs in the event table.<p>
Example:<p>
<div class="fragment"><pre class="fragment"><span class="preprocessor">#include "resource.h"</span>

<span class="keyword">class </span>TestWnd : <span class="keyword">public</span> TestWnd_Base
{
<span class="keyword">public</span>:
    TestWnd()
    {
        <span class="comment">// A, B already initialised at this point</span>
        A-&gt;SetValue(<span class="stringliteral">"Updated in TestWnd::TestWnd"</span>);
        B-&gt;SetValue(<span class="stringliteral">"Nice :)"</span>);
    }
    <span class="keywordtype">void</span> OnBPressed(<a class="code" href="classwx_event.html" title="An event is a structure holding information about an event passed to a callback or...">wxEvent</a>&amp; event)
    {
        Close();
    }
    <a class="code" href="group__group__funcmacro__events.html#g7c5c2ed4b4fcd9644d6f21c824721adf" title="Use this macro inside a class declaration to declare a static event table for that...">DECLARE_EVENT_TABLE</a>();
};

<a class="code" href="group__group__funcmacro__events.html#g405678e40da45711c720b72cda7f1470" title="Use this macro in a source file to start listing static event handlers for a specific...">BEGIN_EVENT_TABLE</a>(TestWnd,TestWnd_Base)
    EVT_BUTTON(XRCID("B"), TestWnd::OnBPressed)
<a class="code" href="group__group__funcmacro__events.html#g5df87bbe7c82edea87b2aeaa6dc57cfd" title="Use this macro in a source file to end listing static event handlers for a specific...">END_EVENT_TABLE</a>()
</pre></div><p>
It is also possible to access the <a class="el" href="classwx_sizer_item.html" title="The wxSizerItem class is used to track the position, size and other attributes of...">wxSizerItem</a> of a sizer that is part of a resource. This can be done using <code>XRCSIZERITEM</code> as shown.<p>
The resource file can have something like this for a sizer item.<p>
<div class="fragment"><pre class="fragment">&lt;<span class="keywordtype">object</span> <span class="keyword">class</span>=<span class="stringliteral">"spacer"</span> name=<span class="stringliteral">"area"</span>&gt;
  &lt;size&gt;400, 300&lt;/size&gt;
&lt;/<span class="keywordtype">object</span>&gt;
</pre></div><p>
The code can then access the sizer item by using <code>XRCSIZERITEM</code> and <code>XRCID</code> together.<p>
<div class="fragment"><pre class="fragment"><a class="code" href="classwx_sizer_item.html" title="The wxSizerItem class is used to track the position, size and other attributes of...">wxSizerItem</a>* item = XRCSIZERITEM(*<span class="keyword">this</span>, <span class="stringliteral">"area"</span>);
</pre></div><h2><a class="anchor" name="overview_xrc_newresourcehandlers">
Adding New Resource Handlers</a></h2>
Adding a new resource handler is pretty easy.<p>
Typically, to add an handler for the <code>MyControl</code> class, you'll want to create the <code>xh_mycontrol.h</code> and <code>xh_mycontrol.cpp</code> files.<p>
The header needs to contains the <code>MyControlXmlHandler</code> class definition:<p>
<div class="fragment"><pre class="fragment"><span class="keyword">class </span>MyControlXmlHandler : <span class="keyword">public</span> <a class="code" href="classwx_xml_resource_handler.html" title="wxXmlResourceHandler is an abstract base class for resource handlers capable of creating...">wxXmlResourceHandler</a>
{
<span class="keyword">public</span>:
    <span class="comment">// Constructor.</span>
    MyControlXmlHandler();

    <span class="comment">// Creates the control and returns a pointer to it.</span>
    <span class="keyword">virtual</span> <a class="code" href="classwx_object.html" title="This is the root class of many of the wxWidgets classes.">wxObject</a> *DoCreateResource();

    <span class="comment">// Returns true if we know how to create a control for the given node.</span>
    <span class="keyword">virtual</span> <span class="keywordtype">bool</span> CanHandle(<a class="code" href="classwx_xml_node.html" title="Represents a node in an XML document.">wxXmlNode</a> *node);

    <span class="comment">// Register with wxWidgets' dynamic class subsystem.</span>
    <a class="code" href="group__group__funcmacro__rtti.html#g008093251c0ee85508b2a8255e036acc" title="Used inside a class declaration to make the class known to wxWidgets RTTI system...">DECLARE_DYNAMIC_CLASS</a>(MyControlXmlHandler)
};
</pre></div><p>
The implementation of your custom XML handler will typically look as:<p>
<div class="fragment"><pre class="fragment"><span class="comment">// Register with wxWidgets' dynamic class subsystem.</span>
<a class="code" href="group__group__funcmacro__rtti.html#g62c530c0823f940e73f5caa36900369e" title="Used in a C++ implementation file to complete the declaration of a class that has...">IMPLEMENT_DYNAMIC_CLASS</a>(MyControlXmlHandler, <a class="code" href="classwx_xml_resource_handler.html" title="wxXmlResourceHandler is an abstract base class for resource handlers capable of creating...">wxXmlResourceHandler</a>)

MyControlXmlHandler::MyControlXmlHandler()
{
    <span class="comment">// this call adds support for all wxWindows class styles</span>
    <span class="comment">// (e.g. wxBORDER_SIMPLE, wxBORDER_SUNKEN, wxWS_EX_* etc etc)</span>
    AddWindowStyles();

    <span class="comment">// if MyControl class supports e.g. MYCONTROL_DEFAULT_STYLE</span>
    <span class="comment">// you should use:</span>
    <span class="comment">//     XRC_ADD_STYLE(MYCONTROL_DEFAULT_STYLE);</span>
}

<a class="code" href="classwx_object.html" title="This is the root class of many of the wxWidgets classes.">wxObject</a> *MyControlXmlHandler::DoCreateResource()
{
    <span class="comment">// the following macro will init a pointer named "control"</span>
    <span class="comment">// with a new instance of the MyControl class, but will NOT</span>
    <span class="comment">// Create() it!</span>
    XRC_MAKE_INSTANCE(control, MyControl)

    <span class="comment">// this is the point where you'll typically need to do the most</span>
    <span class="comment">// important changes: here the control is created and initialized.</span>
    <span class="comment">// You'll want to use the wxXmlResourceHandler's getters to</span>
    <span class="comment">// do most of your work.</span>
    <span class="comment">// If e.g. the MyControl::Create function looks like:</span>
    <span class="comment">//</span>
    <span class="comment">// bool MyControl::Create(wxWindow *parent, int id,</span>
    <span class="comment">//                        const wxBitmap &amp;first, const wxPoint &amp;posFirst,</span>
    <span class="comment">//                        const wxBitmap &amp;second, const wxPoint &amp;posSecond,</span>
    <span class="comment">//                        const wxString &amp;theTitle, const wxFont &amp;titleFont,</span>
    <span class="comment">//                        const wxPoint &amp;pos, const wxSize &amp;size,</span>
    <span class="comment">//                        long style = MYCONTROL_DEFAULT_STYLE,</span>
    <span class="comment">//                        const wxString &amp;name = wxT("MyControl"));</span>
    <span class="comment">//</span>
    <span class="comment">// Then the XRC for your component should look like:</span>
    <span class="comment">//</span>
    <span class="comment">//    &lt;object class="MyControl" name="some_name"&gt;</span>
    <span class="comment">//      &lt;first-bitmap&gt;first.xpm&lt;/first-bitmap&gt;</span>
    <span class="comment">//      &lt;second-bitmap&gt;text.xpm&lt;/second-bitmap&gt;</span>
    <span class="comment">//      &lt;first-pos&gt;3,3&lt;/first-pos&gt;</span>
    <span class="comment">//      &lt;second-pos&gt;4,4&lt;/second-pos&gt;</span>
    <span class="comment">//      &lt;the-title&gt;a title&lt;/the-title&gt;</span>
    <span class="comment">//      &lt;title-font&gt;</span>
    <span class="comment">//        &lt;!-- Standard XRC tags for a font: &lt;size&gt;, &lt;style&gt;, &lt;weight&gt;, etc --&gt;</span>
    <span class="comment">//      &lt;/title-font&gt;</span>
    <span class="comment">//      &lt;!-- XRC also accepts other usual tags for wxWindow-derived classes:</span>
    <span class="comment">//           like e.g. &lt;name&gt;, &lt;style&gt;, &lt;size&gt;, &lt;position&gt;, etc --&gt;</span>
    <span class="comment">//    &lt;/object&gt;</span>
    <span class="comment">//</span>
    <span class="comment">// And the code to read your custom tags from the XRC file is just:</span>
    control-&gt;Create(m_parentAsWindow, GetID(),
                    GetBitmap(<a class="code" href="group__group__funcmacro__string.html#g437ea6ba615b75dac8603e96ec864160" title="This macro can be used with character and string literals (in other words, &amp;#39;x&amp;#39;...">wxT</a>("first-bitmap")),
                    GetPosition(<a class="code" href="group__group__funcmacro__string.html#g437ea6ba615b75dac8603e96ec864160" title="This macro can be used with character and string literals (in other words, &amp;#39;x&amp;#39;...">wxT</a>("first-pos")),
                    GetBitmap(<a class="code" href="group__group__funcmacro__string.html#g437ea6ba615b75dac8603e96ec864160" title="This macro can be used with character and string literals (in other words, &amp;#39;x&amp;#39;...">wxT</a>("second-bitmap")),
                    GetPosition(<a class="code" href="group__group__funcmacro__string.html#g437ea6ba615b75dac8603e96ec864160" title="This macro can be used with character and string literals (in other words, &amp;#39;x&amp;#39;...">wxT</a>("second-pos")),
                    GetText(<a class="code" href="group__group__funcmacro__string.html#g437ea6ba615b75dac8603e96ec864160" title="This macro can be used with character and string literals (in other words, &amp;#39;x&amp;#39;...">wxT</a>("the-title")),
                    GetFont(<a class="code" href="group__group__funcmacro__string.html#g437ea6ba615b75dac8603e96ec864160" title="This macro can be used with character and string literals (in other words, &amp;#39;x&amp;#39;...">wxT</a>("title-font")),
                    GetPosition(), GetSize(), GetStyle(), GetName());

    SetupWindow(control);

    return control;
}

<span class="keywordtype">bool</span> MyControlXmlHandler::CanHandle(<a class="code" href="classwx_xml_node.html" title="Represents a node in an XML document.">wxXmlNode</a> *node)
{
    <span class="comment">// this function tells XRC system that this handler can parse</span>
    <span class="comment">// the &lt;object class="MyControl"&gt; tags</span>
    <span class="keywordflow">return</span> IsOfClass(node, <a class="code" href="group__group__funcmacro__string.html#g437ea6ba615b75dac8603e96ec864160" title="This macro can be used with character and string literals (in other words, &amp;#39;x&amp;#39;...">wxT</a>(<span class="stringliteral">"MyControl"</span>));
}
</pre></div><p>
You may want to check the <a class="el" href="classwx_xml_resource_handler.html" title="wxXmlResourceHandler is an abstract base class for resource handlers capable of creating...">wxXmlResourceHandler</a> documentation to see how many built-in getters it contains. It's very easy to retrieve also complex structures out of XRC files using them. </div>
<!-- ******************************************************* -->
<!--             Standard wxWidgets footer                   -->

<!-- NOTE: <br/> must go inside <p> but <hr/> must go outside -->
<p><br/></p><hr/>

<table width="100%" border="0">
<tr>
    <td align="left">
        <a href="http://www.wxwidgets.org" style="margin-left: 0px">
            <img src="powered-by-wxwidgets.png" alt="wxWidgets logo" border="0"/>
        </a>
    </td>
    <td valign="middle" align="center"><p class="footer">Page generated <tt>Fri Sep 4 06:57:20 2009</tt> by <a href="http://www.doxygen.org">Doxygen</a> 1.5.8</p></td>
    <td valign="middle" align="right"><p>[ <a href="#top" class="top">top</a> ]</p></td>
</tr>
</table>

<script src="wxwidgets.js" type="text/javascript"></script>

</body>
</html>

<!-- ***************************************************** -->
<!--         End of wxWidgets standard footer              -->
