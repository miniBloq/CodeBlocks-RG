<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1252">
<meta name="GENERATOR" content="Microsoft FrontPage 4.0">
<meta name="ProgId" content="FrontPage.Editor.Document">
<title>The Object File Cross</title>
</head>

<body>

<h2><a name="_Toc509457035"><span style="mso-ansi-language: EN-US; mso-bookmark: _Toc425055700">The
Object File Cross-Reference Utility</span></a><span style="mso-ansi-language:EN-US"><o:p>
</o:p>
</span></h2>
<p class="MsoNormal" style="margin-right:-.35pt">This utility allows you to
search for symbols or view the dependencies between two modules by using the
object files themselves as a source of information. This utility is based on a
similar utility that Borland included in their TURBOC compiler environment for
Windows 3.1.</p>
<p class="MsoNormal" style="margin-right:-.35pt">&nbsp;<o:p>
</o:p>
</p>
<p class="MsoNormal" style="margin-right:-.35pt">One of the main points is
showing you which functions in your code aren’t used anywhere. This can be
viewed easily with the “Unreferenced publics” list, described below.</p>
<p class="MsoNormal" style="margin-right:-.35pt">The first step when using this
utility is to choose the object files that you want to include in the
cross-reference.</p>
<p class="MsoNormal" style="margin-left:1.0cm">&nbsp;<o:p>
</o:p>
</p>
<table border="0" cellspacing="0" cellpadding="0" width="576" style="width:432.35pt;
 margin-left:3.5pt;border-collapse:collapse;mso-padding-alt:0cm 3.5pt 0cm 3.5pt">
  <tr style="height:310.9pt">
    <td width="425" valign="top" style="width:318.95pt;padding:0cm 3.5pt 0cm 3.5pt;
  height:310.9pt">
      <p class="MsoNormal"><!--[if gte vml 1]><v:shapetype id="_x0000_t75"
   coordsize="21600,21600" o:spt="75" o:preferrelative="t" path="m@4@5l@4@11@9@11@9@5xe"
   filled="f" stroked="f">
   <v:stroke joinstyle="miter"/>
   <v:formulas>
    <v:f eqn="if lineDrawn pixelLineWidth 0"/>
    <v:f eqn="sum @0 1 0"/>
    <v:f eqn="sum 0 0 @1"/>
    <v:f eqn="prod @2 1 2"/>
    <v:f eqn="prod @3 21600 pixelWidth"/>
    <v:f eqn="prod @3 21600 pixelHeight"/>
    <v:f eqn="sum @0 0 1"/>
    <v:f eqn="prod @6 1 2"/>
    <v:f eqn="prod @7 21600 pixelWidth"/>
    <v:f eqn="sum @8 21600 0"/>
    <v:f eqn="prod @7 21600 pixelHeight"/>
    <v:f eqn="sum @10 21600 0"/>
   </v:formulas>
   <v:path o:extrusionok="f" gradientshapeok="t" o:connecttype="rect"/>
   <o:lock v:ext="edit" aspectratio="t"/>
  </v:shapetype><v:shape id="_x0000_i1025" type="#_x0000_t75" style='width:305.25pt;
   height:310.5pt'>
   <v:imagedata src="objxre62.gif"
    o:title=""/>
  </v:shape><![endif]-->
      <img width="407" height="414" src="objxre62.gif" v:shapes="_x0000_i1025"></p>
    </td>
    <td width="151" valign="top" style="width:4.0cm;padding:0cm 3.5pt 0cm 3.5pt;
  height:310.9pt">
      <p class="MsoNormal"><span style="font-size:8.0pt;mso-bidi-font-size:12.0pt">You
      reach this point by using the ‘Analysis’ option in the main menu, and
      then choosing<span style="mso-spacerun: yes">&nbsp; </span><b style="mso-bidi-font-weight:
  normal">Cross-reference object files: ‘obj’</b>.<o:p>
      </o:p>
      </span></p>
      <p class="MsoNormal"><span style="font-size:8.0pt;mso-bidi-font-size:12.0pt">To
      add a file, select it in the list, then press ‘Add’. To eliminate a
      file,<span style="mso-spacerun: yes">&nbsp; </span>select it in the list
      below, then select ‘Eliminate’.<o:p>
      </o:p>
      </span></p>
      <p class="MsoNormal"><span style="font-size:8.0pt;mso-bidi-font-size:12.0pt">To
      quickly select all files, select the first file, then simultaneously press
      the Shift + down arrow keys.<o:p>
      </o:p>
      </span></p>
      <p class="MsoNormal"><span style="font-size:8.0pt;mso-bidi-font-size:12.0pt">The
      directory in which the files are located is shown at the bottom left
      corner of the dialog box.<o:p>
      </o:p>
      </span></p>
    </td>
  </tr>
</table>
<p class="MsoNormal" style="margin-left:1.0cm">&nbsp;<o:p>
</o:p>
</p>
<p class="MsoNormal">You can change the directory using its corresponding button
at the bottom, eliminate object files with the “Ignore” button in the
middle. When you are finished, press the ‘OK’ button. The following dialog
box will appear. This may take some time, because all of the actions are
implemented after you press ‘OK’.</p>
<p class="MsoNormal" style="margin-left:1.0cm"><!--[if gte vml 1]><v:shape id="_x0000_i1026"
 type="#_x0000_t75" style='width:391.5pt;height:317.25pt' fillcolor="window">
 <v:imagedata src="objxre63.gif"
  o:title=""/>
</v:shape><![endif]-->
<img src="objxre63.gif" v:shapes="_x0000_i1026" width="522" height="423"></p>
<p class="MsoNormal" style="margin-left:1.0cm">&nbsp;<o:p>
</o:p>
</p>
<p class="MsoNormal" style="margin-left:1.0cm">&nbsp;<o:p>
</o:p>
</p>
<p class="MsoNormal" style="margin-left:1.0cm">&nbsp;<o:p>
</o:p>
</p>
<p class="MsoNormal">The main point of interest in this dialog box is the left
column. It will indicate to you which symbols are exported from a module and not
used anywhere else in the program. Either these symbols are used in the same
module and should be declared static rather than public, or they are not
referenced anywhere and are dead codes that can be eliminated. The latter is the
more likely.<span style="mso-spacerun: yes">&nbsp; </span>Of course, as in the
example above, the ‘main’ function is an exception!!</p>
<p class="MsoNormal">You can choose a module to display using the combo box at
the upper left corner. It is possible to find a symbol (press the ‘Find’
button) or display the results in a graphical display. Press the PLOT button.</p>
<p class="MsoNormal">The plot arranges the object files in a circle, and will
indicate the relationships between any two points in the circle with colored
lines. Those lines show you what is imported/exported between two modules.</p>
<p class="MsoNormal">By clicking on a line, you will see what symbols are
exported/imported from the two modules. This is similar to the
‘relationships’ utility, but different in that there is no symbolic
processing. When two modules share between them a macro definition, for
instance, this will not appear here.</p>
<p class="MsoNormal">Here is an example of the PLOT output.</p>
<p class="MsoNormal" align="center" style="text-align:center"><!--[if gte vml 1]><v:shape
 id="_x0000_i1027" type="#_x0000_t75" style='width:435.75pt;height:419.25pt'
 o:ole="" fillcolor="window">
 <v:imagedata src="objxre64.gif"
  o:title=""/>
</v:shape><![endif]-->
<img width="581" height="559" src="objxre64.gif" v:shapes="_x0000_i1027"><!--[if gte mso 9]><xml>
 <o:OLEObject Type="Embed" ProgID="Word.Picture.8" ShapeID="_x0000_i1027"
  DrawAspect="Content" ObjectID="_1102941041">
 </o:OLEObject>
</xml><![endif]-->
</p>
<p class="MsoNormal">&nbsp;<o:p>
</o:p>
</p>
<p class="MsoBodyText">This plot shows six object files. The color codes are
shown at the upper left corner. By clicking in the file name ‘exedump.c’,
the display changes and two green lines originate at ‘exedump.c’ going to
the other modules where there is a relationship. By clicking in those lines, you
can display in full all of the symbols that tie those modules together at the
object file level.</p>
<p class="MsoNormal" align="left" style="text-align:left"><!--[if gte vml 1]><v:shape
 id="_x0000_i1028" type="#_x0000_t75" style='width:436.5pt;height:420pt'
 fillcolor="window">
 <v:imagedata src="objxre65.gif"
  o:title=""/>
</v:shape><![endif]-->
<img src="objxre65.gif" v:shapes="_x0000_i1028" width="582" height="560"></p>
<p class="MsoNormalIndent" align="center" style="text-align:center"><span style="mso-ansi-language:EN-US">&nbsp;<o:p>
</o:p>
</span></p>

</body>

</html>
